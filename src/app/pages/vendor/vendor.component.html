<div class="innerdash pagetitle">
    <div class="row">
        <h1>Create Vendor</h1>
    </div>
</div><!-- End Page Title -->
<section class="section dashboard">
    <div class="row">
        <div class="innerform">
            <div class="col-md-9">
                <form id="formCreatecompany" class="mb-3 commform" [formGroup]="vendorForm" (ngSubmit)="onSubmit()">
                    <div class="steps row">
                        <div class="innerfheader mt-2 mb-1 noborder">
                            <h4><span>Step 01</span> - Company Information</h4>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="name" class="form-label">Company Name</label>
                                <select class="form-control" formControlName="companyId" [ngClass]="{
                                   'is-invalid': submitted && f['companyId'].errors,
                                    'is-valid': submitted && !f['companyId'].errors}"
                                (change)="getStoreList($event.target)">

                                    <option value="">Select Company</option>
                                    <option [value]="item.companyId"
                                            *ngFor="let item of companyList">{{item.name | titlecase}}</option>
                                </select>


                                <span *ngIf="submitted && f['companyId'].errors" class="invalid-feedback">
                                    <span *ngIf="f['companyId'].errors['required']"> Company Name  is required</span>
                                </span>
                            </div>

                            <!-- <div class="mb-3">
                                <label for="name" class="form-label">Department</label>
                                <select class="form-control" formControlName="department"
                                        [ngClass]="{
                                   'is-invalid': submitted && f['department'].errors,
                                    'is-valid': submitted && !f['department'].errors}">

                                    <option value="">Select Department</option>
                                                               <option value="{{item.value}}" *ngFor="let item of departmentList"> {{item.name}}</option>

                                    <option value="{{item.value}}"
                                            *ngFor="let item of departmentList"> {{ item.name }}</option>
                                </select>
                                <span *ngIf="submitted && f['department'].errors" class="invalid-feedback">
                          <span *ngIf="f['department'].errors['required']"> Department  is required</span>
                      </span>
                            </div> -->

                            <div class="mb-3">
                                <label for="name" class="form-label">Street</label>
                                <input type="text" class="form-control titleCase"
                                       placeholder="12, 2nd Cross, Indira Nagar, Bangalore 560038"
                                       formControlName="street"
                                       [ngClass]="{
                                   'is-invalid': submitted && f['street'].errors,
                                    'is-valid': submitted && !f['street'].errors}"/>
                                <span *ngIf="submitted && f['street'].errors" class="invalid-feedback">
                           <span *ngIf="f['street'].errors['required']">Street is required</span>
                       </span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Country</label>
                                <select class="form-control" formControlName="country"
                                        [ngClass]="{
                                   'is-invalid': submitted && f['country'].errors,
                                    'is-valid': submitted && !f['country'].errors}"
                                        (change)="selectCountry($event.target)">
                                    <option value="">Select Country</option>
                                    <option [value]="item.name"
                                            *ngFor="let item of this.countryList">{{item.name | titlecase}}</option>
                                </select>

                                <div *ngIf="submitted && f['country'].errors" class="invalid-feedback">
                                    <div *ngIf="f['country'].errors['required']">Country is required</div>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label for="name" class="form-label">City</label>
                                <select class="form-control titleCase" formControlName="city"
                                        [ngClass]="{
                                   'is-invalid': submitted && f['city'].errors,
                                    'is-valid': submitted && !f['city'].errors}">
                                    <option value=""> Select City</option>
                                    <option value="{{item}}" *ngFor="let item of cityList">{{item}}</option>
                                </select>
                                <div *ngIf="submitted && f['city'].errors" class="invalid-feedback">
                                    <div *ngIf="f['city'].errors['required']">City is required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="name" class="form-label">Vendor Name</label>
                                <input type="text" class="form-control titleCase" placeholder="ABC India Pvt Ltd"
                                       formControlName="companyName"
                                       [ngClass]="{
                                   'is-invalid': f['companyName'].touched && f['companyName'].errors,
                                    'is-valid': !f['companyName'].touched && !f['companyName'].errors}"/>


                                <!--                      <span *ngIf="submitted && f['companyName'].errors" class="invalid-feedback">-->
                                <!--                          <span *ngIf="f['companyName'].errors['required']">Company Name is required</span>-->
                                <!--                      </span>-->

                                <span *ngIf="f['companyName'].touched && f['companyName'].errors"
                                      class="invalid-feedback">
                          <span *ngIf="f['companyName'].errors['required']">Vendor Name is required</span>
                          <span *ngIf="f['companyName'].errors['pattern']">Vendor Name is only character</span>
                      </span>


                            </div>

                            <div class="mb-3">
                                <label for="name" class="form-label">Store</label>
                                <select class="form-control">
                                    <option value="">Select Store</option>
                                    <option [value]="item.storeId" *ngFor="let item of storeList"> {{item.name | titlecase}}</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Postal Code</label>
                                <input type="text" class="form-control titleCase" placeholder="560038"
                                       formControlName="postal" [ngClass]="{
                                   'is-invalid': submitted && f['postal'].errors,
                                    'is-valid': submitted && !f['postal'].errors}"/>
                                <span *ngIf="submitted && f['postal'].errors" class="invalid-feedback">
                           <span *ngIf="f['postal'].errors['required']">Postal code is required</span>
                           <span *ngIf="f['postal'].errors['maxlength']">Postal code max length 6</span>
                           <span *ngIf="f['postal'].errors['minlength']">Postal code Min length 6</span>
                           <span *ngIf="f['postal'].errors['pattern']">Postal code is alphanum.</span>
                       </span>
                            </div>

                            <div class="mb-3">
                                <label for="name" class="form-label">Province</label>
                                <select class="form-control" (change)="selectState($event.target)">
                                    <option value="">Select Province</option>
                                    <option [value]="item.name" *ngFor="let item of stateList">{{item.name}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="steps row">
                        <div class="innerfheader mt-4 mb-1 noborder">
                            <h4><span>Step 02</span> - Company Documents</h4>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="name" class="form-label">Company Verification Documents : 01</label>
                                <input type="file" class="form-control" placeholder="Browse to upload"
                                       formControlName="cvd_1" id="cvd_1"
                                       (change)="onFileSelected($event, 'cvd_1')" [ngClass]="{
                                   'is-invalid': submitted && f['cvd_1'].errors,
                                    'is-valid': submitted && !f['cvd_1'].errors}" multiple/>
                                <span *ngIf="submitted && f['cvd_1'].errors" class="invalid-feedback">
                           <span *ngIf="f['cvd_1'].errors['required']">Verification Document is required</span>
                       </span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Company Verification Documents : 02</label>
                                <input type="file" class="form-control" placeholder="Browse to upload" id="cvd_2"
                                       formControlName="cvd_2" (change)="onFileSelected($event, 'cvd_2')" [ngClass]="{
                                   'is-invalid': submitted && f['cvd_2'].errors,
                                    'is-valid': submitted && !f['cvd_2'].errors}" multiple/>
                                <span *ngIf="submitted && f['cvd_2'].errors" class="invalid-feedback">
                           <span *ngIf="f['cvd_2'].errors['required']">Doc is required</span>
                       </span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Payment Code</label>
                                <input type="text" class="form-control titleCase" placeholder="IN-25869"
                                       formControlName="paymentCode" [ngClass]="{
                                   'is-invalid': submitted && f['paymentCode'].errors,
                                    'is-valid': submitted && !f['paymentCode'].errors}"/>
                                <span *ngIf="submitted && f['paymentCode'].errors" class="invalid-feedback">
                           <span *ngIf="f['paymentCode'].errors['required']">Payment Code is required</span>
                       </span>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">GST Number</label>
                                <input type="text" class="form-control text-uppercase" placeholder="10AABCU9603R1Z2"
                                       style="text-transform: capitalize"
                                       formControlName="cGST" [ngClass]="{
                                   'is-invalid': submitted && f['cGST'].errors,
                                    'is-valid': submitted && !f['cGST'].errors}"/>
                                <span *ngIf="submitted && f['cGST'].errors" class="invalid-feedback">
                           <span *ngIf="f['cGST'].errors['required']">Gst  Number is required</span>
                       </span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Company GST / HST</label>
                                <input type="file" (change)="onFileSelected($event, 'gst')" class="form-control"
                                       placeholder="Browse to upload" id="companyGST"
                                       formControlName="companyGST" [ngClass]="{
                                   'is-invalid': submitted && f['companyGST'].errors,
                                    'is-valid': submitted && !f['companyGST'].errors}" multiple/>
                                <span *ngIf="submitted && f['companyGST'].errors" class="invalid-feedback">
                           <span *ngIf="f['companyGST'].errors['required']">Company GST is required</span>
                       </span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="name" class="form-label">Currency</label>
                                <input type="text" class="form-control text-capitalize" placeholder="Dollar"
                                       formControlName="currency" [ngClass]="{
                                   'is-invalid': submitted && f['currency'].errors,
                                    'is-valid': submitted && !f['currency'].errors}"/>
                                <span *ngIf="submitted && f['currency'].errors" class="invalid-feedback">
                           <span *ngIf="f['currency'].errors['required']">currency is required</span>
                       </span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Language</label>
                                <input type="text" class="form-control text-capitalize" placeholder="English"
                                       formControlName="language" [ngClass]="{
                                   'is-invalid': submitted && f['language'].errors,
                                    'is-valid': submitted && !f['language'].errors}"/>
                                <span *ngIf="submitted && f['language'].errors" class="invalid-feedback">
                           <span *ngIf="f['language'].errors['required']">Language is required</span>
                       </span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Payment Terms</label>
                                <input type="text" class="form-control text-capitalize" placeholder="60 Days"
                                       formControlName="payment" [ngClass]="{
                                   'is-invalid': submitted && f['payment'].errors,
                                    'is-valid': submitted && !f['payment'].errors}"/>
                                <span *ngIf="submitted && f['payment'].errors" class="invalid-feedback">
                           <span *ngIf="f['payment'].errors['required']">Payment terms is required</span>
                       </span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Mode of Payment</label>
                                <input type="text" class="form-control text-capitalize" placeholder="eTransfer"
                                       formControlName="modeOfPayment" [ngClass]="{
                                   'is-invalid': submitted && f['modeOfPayment'].errors,
                                    'is-valid': submitted && !f['modeOfPayment'].errors}"/>
                                <span *ngIf="submitted && f['modeOfPayment'].errors" class="invalid-feedback">
                           <span *ngIf="f['modeOfPayment'].errors['required']"> Mode Of Payment is required</span>
                       </span>
                            </div>
                        </div>
                    </div>
                    <div class="steps row">
                        <div class="innerfheader mt-4 mb-1 noborder">
                            <h4><span>Step 03</span> - Bank Account Details</h4>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="name" class="form-label">Bank Name</label>
                                <input type="text" class="form-control text-capitalize" placeholder="ABC India Pvt Ltd"
                                       formControlName="bankName" [ngClass]="{
                                   'is-invalid': submitted && f['bankName'].errors,
                                    'is-valid': submitted && !f['bankName'].errors}"/>
                                <span *ngIf="submitted && f['bankName'].errors" class="invalid-feedback">
                           <span *ngIf="f['bankName'].errors['required']">Bank Name is required</span>
                           <span *ngIf="f['bankName'].errors['pattern']">Bank Name is Only charter</span>
                       </span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Beneficiary Name</label>
                                <input type="text" class="form-control text-capitalize" placeholder="Name"
                                       formControlName="beneficiary" [ngClass]="{
                                   'is-invalid': submitted && f['beneficiary'].errors,
                                    'is-valid': submitted && !f['beneficiary'].errors}"/>
                                <span *ngIf="submitted && f['beneficiary'].errors" class="invalid-feedback">
                           <span *ngIf="f['beneficiary'].errors['required']"> Beneficiary is required</span>
                           <span *ngIf="f['beneficiary'].errors['pattern']">Bank Name is Only charter</span>
                       </span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Routing Number</label>
                                <input type="text" class="form-control text-capitalize" placeholder="HDFC456904"
                                       formControlName="IFSCCode" [ngClass]="{
                                   'is-invalid': submitted && f['IFSCCode'].errors,
                                    'is-valid': submitted && !f['IFSCCode'].errors}"/>
                                <span *ngIf="submitted && f['IFSCCode'].errors" class="invalid-feedback">
                           <span *ngIf="f['IFSCCode'].errors['required']">ISFC Code is required</span>
                       </span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="name" class="form-label">Account Number</label>
                                <input type="text" class="form-control text-capitalize" placeholder="3456934890"
                                       formControlName="accountNo" [ngClass]="{
                                   'is-invalid': submitted && f['accountNo'].errors,
                                    'is-valid': submitted && !f['accountNo'].errors}"/>
                                <span *ngIf="submitted && f['accountNo'].errors" class="invalid-feedback">
                           <span *ngIf="f['accountNo'].errors['required']">AccountNo is required</span>
                       </span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Re enter Account Number</label>
                                <input type="text" class="form-control text-capitalize" placeholder="3456934890"
                                       formControlName="reAccountNo" [ngClass]="{
                                   'is-invalid': submitted && f['reAccountNo'].errors,
                                    'is-valid': submitted && !f['reAccountNo'].errors}"/>
                                <span *ngIf="submitted && f['reAccountNo'].errors" class="invalid-feedback">
                           <span *ngIf="f['reAccountNo'].errors['required']">Confirm account is required</span>
                            <span *ngIf="f['reAccountNo'].errors['matching']">Account Number does not match</span>
                       </span>
                            </div>
                        </div>
                    </div>

                    <div class="steps row">
                        <div class="innerfheader mt-4 mb-1 noborder">
                            <h4><span>Step 04</span> - Personal Information</h4>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="name" class="form-label">Contact First Name</label>
                                <input type="text" class="form-control text-capitalize" placeholder="Johan "
                                       formControlName="first_name" [ngClass]="{
                                   'is-invalid': submitted && f['first_name'].errors,
                                    'is-valid': submitted && !f['first_name'].errors}"/>
                                <span *ngIf="submitted && f['first_name'].errors" class="invalid-feedback">
                           <span *ngIf="f['first_name'].errors['required']">First name is required</span>
                       </span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Contact Last Name</label>
                                <input type="text" class="form-control text-capitalize" placeholder="Last Name"
                                       formControlName="last_name" [ngClass]="{
                                   'is-invalid': submitted && f['last_name'].errors,
                                    'is-valid': submitted && !f['last_name'].errors}"/>
                                <span *ngIf="submitted && f['last_name'].errors" class="invalid-feedback">
                           <span *ngIf="f['last_name'].errors['required']">Last name is required</span>
                       </span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Contact Email ID</label>
                                <input type="text" class="form-control"
                                       placeholder="12, 2nd Cross, Indira Nagar, Bangalore 560038"
                                       formControlName="contact_email_id" [ngClass]="{
                                   'is-invalid': submitted && f['contact_email_id'].errors,
                                    'is-valid': submitted && !f['contact_email_id'].errors}"/>
                                <span *ngIf="submitted && f['contact_email_id'].errors" class="invalid-feedback">
                           <span *ngIf="f['contact_email_id'].errors['required']">Email id is required</span>
                           <span *ngIf="f['contact_email_id'].errors['email']">Email is invalid</span>

                       </span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="name" class="form-label">Contact Phone Number</label>
                                <input type="text" class="form-control" placeholder="Phone Number"
                                       formControlName="contact_phone_number" [ngClass]="{
                                   'is-invalid': submitted && f['contact_phone_number'].errors,
                                    'is-valid': submitted && !f['contact_phone_number'].errors}"/>
                                <span *ngIf="submitted && f['contact_phone_number'].errors" class="invalid-feedback">
                           <span *ngIf="f['contact_phone_number'].errors['required']">Contact phone number is required</span>
                       </span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Contact Alternative Number</label>
                                <input type="text" class="form-control" placeholder="Alternative Number"
                                       formControlName="contact_alternative_number"/>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Contact Alternative Email ID</label>
                                <input type="text" class="form-control" placeholder="Alternative Email ID"
                                       formControlName="contact_alternative_email"
                                       [ngClass]="{
                                   'is-invalid': submitted && f['contact_alternative_email'].errors,
                                    'is-valid': submitted && !f['contact_alternative_email'].errors}"/>
                                <span *ngIf="submitted && f['contact_alternative_email'].errors"
                                      class="invalid-feedback">
                           <span *ngIf="f['contact_alternative_email'].errors['required']">contact alternative email is not valid</span>
                       </span>
                            </div>
                        </div>
                    </div>


                    <div class="mt-3 mb-3 d-flex flex-column align-items-center">
                        <button type="submit" class="btn btn-primary btnarraow d-flex">SAVE<span
                                class="barraow"></span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>


